(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(3987)}])},3987:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return w}});var a=n(5893),i=n(7294);let s=()=>{let[e,t]=(0,i.useState)(!1);return(0,i.useEffect)(()=>{("ontouchstart"in window||"onmsgesturechange"in window)&&t(!0)},[]),e};n(9396);let u=()=>(0,a.jsx)("a",{href:"dapp://maito1201.github.io/evangerypt/",target:"_self",children:(0,a.jsx)("button",{children:"Connect to MetaMask"})});var p=n(5553);let r=e=>{let{token:t}=e,n=(0,i.useMemo)(()=>p.dF(t.earn.toString()),[t.earn]);return(0,a.jsxs)("div",{children:[t.id,": ",t.url,", ",n,"MATIC"]})},y=e=>{let{tokens:t}=e;return t?(0,a.jsx)(a.Fragment,{children:t.map(e=>(0,a.jsx)(r,{token:e},e.id))}):(0,a.jsx)(a.Fragment,{})},o=e=>{let{account:t,chain:n="unknown"}=e;return t?(0,a.jsxs)("div",{children:["Connected account ",t," on ",n]}):(0,a.jsx)(a.Fragment,{})};var d=n(2003),l=n.n(d),m=n(7114),c=n(6076),T=JSON.parse('{"Mt":[{"inputs":[],"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":true,"internalType":"address","name":"approved","type":"address"},{"indexed":true,"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"Approval","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":true,"internalType":"address","name":"operator","type":"address"},{"indexed":false,"internalType":"bool","name":"approved","type":"bool"}],"name":"ApprovalForAll","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"previousOwner","type":"address"},{"indexed":true,"internalType":"address","name":"newOwner","type":"address"}],"name":"OwnershipTransferred","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"from","type":"address"},{"indexed":true,"internalType":"address","name":"to","type":"address"},{"indexed":true,"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"Transfer","type":"event"},{"inputs":[{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"approve","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"owner","type":"address"}],"name":"balanceOf","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"balancePerToken","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"burn","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"distributeNumPerToken","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"donateToToken","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"estimateEarn","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"getApproved","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getBalance","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"getBalanceOfToken","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"address","name":"operator","type":"address"}],"name":"isApprovedForAll","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"},{"internalType":"uint256","name":"","type":"uint256"}],"name":"lockTimeOfToken","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"name","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"ownerOf","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"renounceOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"to","type":"address"},{"internalType":"string","name":"uri","type":"string"}],"name":"safeMint","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"safeTransferFrom","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"},{"internalType":"bytes","name":"data","type":"bytes"}],"name":"safeTransferFrom","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"operator","type":"address"},{"internalType":"bool","name":"approved","type":"bool"}],"name":"setApprovalForAll","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"},{"internalType":"uint256","name":"num","type":"uint256"}],"name":"setDistoributeNum","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bytes4","name":"interfaceId","type":"bytes4"}],"name":"supportsInterface","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"symbol","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"index","type":"uint256"}],"name":"tokenByIndex","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"uint256","name":"index","type":"uint256"}],"name":"tokenOfOwnerByIndex","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"tokenURI","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"totalSupply","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"transferFrom","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"withdrawFromToken","outputs":[],"stateMutability":"payable","type":"function"}]}');let f=()=>{let[e,t]=(0,i.useState)(),[n,a]=(0,i.useState)(""),[s,u]=(0,i.useState)("");return(0,i.useEffect)(()=>{let e=async()=>{var e;let n=await l()();if(n&&(null===(e=window.ethereum)||void 0===e?void 0:e.isMetaMask)){await window.ethereum.enable();let i=new m.Q(window.ethereum),s=await i.getSigner(),p=await s.getAddress();a(p);let r=new c.CH("0xC74d41a1e76A59590D59DF53f151B505f206d8c8",T.Mt,i);t(r.connect(s));let y=await i.getNetwork();u("chain id: ".concat(y.chainId," ").concat(y.name))}else a("Please Install MetaMask")};e()},[]),{account:n,setAccount:a,chain:s,client:e}},b=e=>{let[t,n]=(0,i.useState)([]);return(0,i.useEffect)(()=>{let t=async()=>{if(!e)return;let{totalSupply:t,tokenByIndex:a,tokenURI:i,estimateEarn:s}=e.functions,u=parseInt(await t()),p=[];for(let r=0;r<u;r++){let y=parseInt(await a(r)),o=await i(y),d=await s(y),l={id:y,url:o,earn:d};p.push(l)}n(p)};t()},[e]),{tokens:t}};function w(){let e=s(),{account:t,setAccount:n,chain:i,client:p}=f(),{tokens:r}=b(p);return(0,a.jsxs)(a.Fragment,{children:[!t&&e&&(0,a.jsx)(u,{}),(0,a.jsx)(o,{account:t,chain:i}),(0,a.jsx)("div",{children:"tokens"}),(0,a.jsx)(y,{tokens:r})]})}},6601:function(){}},function(e){e.O(0,[25,774,888,179],function(){return e(e.s=8312)}),_N_E=e.O()}]);